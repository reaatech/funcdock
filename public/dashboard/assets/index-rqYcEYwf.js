import{r as p,a as gr,b as pr}from"./vendor-Gm9i_4Ku.js";import{u as ps,a as fr,L as re,b as yr,R as Jt,c as ee,N as it,B as br}from"./router-FOaSarTj.js";import{l as jr}from"./socket-TjCxX7sJ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var fs={exports:{}},Ke={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=p,vr=Symbol.for("react.element"),wr=Symbol.for("react.fragment"),kr=Object.prototype.hasOwnProperty,Sr=Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cr={key:!0,ref:!0,__self:!0,__source:!0};function ys(t,s,r){var a,n={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)kr.call(s,a)&&!Cr.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:vr,type:t,key:i,ref:l,props:n,_owner:Sr.current}}Ke.Fragment=wr;Ke.jsx=ys;Ke.jsxs=ys;fs.exports=Ke;var e=fs.exports,ht={},Vt=gr;ht.createRoot=Vt.createRoot,ht.hydrateRoot=Vt.hydrateRoot;let Rr={data:""},Er=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Rr,Fr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Lr=/\/\*[^]*?\*\/|  +/g,Gt=/\n+/g,le=(t,s)=>{let r="",a="",n="";for(let i in t){let l=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":a+=i[1]=="f"?le(l,i):i+"{"+le(l,i[1]=="k"?"":s)+"}":typeof l=="object"?a+=le(l,s?s.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,o):o?o+" "+m:m)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=le.p?le.p(i,l):i+":"+l+";")}return r+(s&&n?s+"{"+n+"}":n)+a},se={},bs=t=>{if(typeof t=="object"){let s="";for(let r in t)s+=r+bs(t[r]);return s}return t},Or=(t,s,r,a,n)=>{let i=bs(t),l=se[i]||(se[i]=(m=>{let c=0,u=11;for(;c<m.length;)u=101*u+m.charCodeAt(c++)>>>0;return"go"+u})(i));if(!se[l]){let m=i!==t?t:(c=>{let u,g,h=[{}];for(;u=Fr.exec(c.replace(Lr,""));)u[4]?h.shift():u[3]?(g=u[3].replace(Gt," ").trim(),h.unshift(h[0][g]=h[0][g]||{})):h[0][u[1]]=u[2].replace(Gt," ").trim();return h[0]})(t);se[l]=le(n?{["@keyframes "+l]:m}:m,r?"":"."+l)}let o=r&&se.g?se.g:null;return r&&(se.g=se[l]),((m,c,u,g)=>{g?c.data=c.data.replace(g,m):c.data.indexOf(m)===-1&&(c.data=u?m+c.data:c.data+m)})(se[l],s,a,o),l},Tr=(t,s,r)=>t.reduce((a,n,i)=>{let l=s[i];if(l&&l.call){let o=l(r),m=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=m?"."+m:o&&typeof o=="object"?o.props?"":le(o,""):o===!1?"":o}return a+n+(l??"")},"");function Xe(t){let s=this||{},r=t.call?t(s.p):t;return Or(r.unshift?r.raw?Tr(r,[].slice.call(arguments,1),s.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(s.p):n),{}):r,Er(s.target),s.g,s.o,s.k)}let js,gt,pt;Xe.bind({g:1});let ne=Xe.bind({k:1});function Ar(t,s,r,a){le.p=s,js=t,gt=r,pt=a}function ce(t,s){let r=this||{};return function(){let a=arguments;function n(i,l){let o=Object.assign({},i),m=o.className||n.className;r.p=Object.assign({theme:gt&&gt()},o),r.o=/ *go\d+/.test(m),o.className=Xe.apply(r,a)+(m?" "+m:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),pt&&c[0]&&pt(o),js(c,o)}return n}}var Dr=t=>typeof t=="function",qe=(t,s)=>Dr(t)?t(s):t,Pr=(()=>{let t=0;return()=>(++t).toString()})(),Ns=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Mr=20,vs=(t,s)=>{switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,Mr)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case 2:let{toast:r}=s;return vs(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=s;return{...t,toasts:t.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let n=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+n}))}}},Ie=[],me={toasts:[],pausedAt:void 0},fe=t=>{me=vs(me,t),Ie.forEach(s=>{s(me)})},Ur={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$r=(t={})=>{let[s,r]=p.useState(me),a=p.useRef(me);p.useEffect(()=>(a.current!==me&&r(me),Ie.push(r),()=>{let i=Ie.indexOf(r);i>-1&&Ie.splice(i,1)}),[]);let n=s.toasts.map(i=>{var l,o,m;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((l=t[i.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||Ur[i.type],style:{...t.style,...(m=t[i.type])==null?void 0:m.style,...i.style}}});return{...s,toasts:n}},Ir=(t,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Pr()}),Oe=t=>(s,r)=>{let a=Ir(s,t,r);return fe({type:2,toast:a}),a.id},K=(t,s)=>Oe("blank")(t,s);K.error=Oe("error");K.success=Oe("success");K.loading=Oe("loading");K.custom=Oe("custom");K.dismiss=t=>{fe({type:3,toastId:t})};K.remove=t=>fe({type:4,toastId:t});K.promise=(t,s,r)=>{let a=K.loading(s.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=s.success?qe(s.success,n):void 0;return i?K.success(i,{id:a,...r,...r==null?void 0:r.success}):K.dismiss(a),n}).catch(n=>{let i=s.error?qe(s.error,n):void 0;i?K.error(i,{id:a,...r,...r==null?void 0:r.error}):K.dismiss(a)}),t};var _r=(t,s)=>{fe({type:1,toast:{id:t,height:s}})},Br=()=>{fe({type:5,time:Date.now()})},Re=new Map,zr=1e3,qr=(t,s=zr)=>{if(Re.has(t))return;let r=setTimeout(()=>{Re.delete(t),fe({type:4,toastId:t})},s);Re.set(t,r)},Hr=t=>{let{toasts:s,pausedAt:r}=$r(t);p.useEffect(()=>{if(r)return;let i=Date.now(),l=s.map(o=>{if(o.duration===1/0)return;let m=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(m<0){o.visible&&K.dismiss(o.id);return}return setTimeout(()=>K.dismiss(o.id),m)});return()=>{l.forEach(o=>o&&clearTimeout(o))}},[s,r]);let a=p.useCallback(()=>{r&&fe({type:6,time:Date.now()})},[r]),n=p.useCallback((i,l)=>{let{reverseOrder:o=!1,gutter:m=8,defaultPosition:c}=l||{},u=s.filter(j=>(j.position||c)===(i.position||c)&&j.height),g=u.findIndex(j=>j.id===i.id),h=u.filter((j,y)=>y<g&&j.visible).length;return u.filter(j=>j.visible).slice(...o?[h+1]:[0,h]).reduce((j,y)=>j+(y.height||0)+m,0)},[s]);return p.useEffect(()=>{s.forEach(i=>{if(i.dismissed)qr(i.id,i.removeDelay);else{let l=Re.get(i.id);l&&(clearTimeout(l),Re.delete(i.id))}})},[s]),{toasts:s,handlers:{updateHeight:_r,startPause:Br,endPause:a,calculateOffset:n}}},Jr=ne`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vr=ne`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gr=ne`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wr=ce("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gr} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Kr=ne`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xr=ce("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Kr} 1s linear infinite;
`,Zr=ne`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Yr=ne`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qr=ce("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Yr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ea=ce("div")`
  position: absolute;
`,ta=ce("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sa=ne`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ra=ce("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aa=({toast:t})=>{let{icon:s,type:r,iconTheme:a}=t;return s!==void 0?typeof s=="string"?p.createElement(ra,null,s):s:r==="blank"?null:p.createElement(ta,null,p.createElement(Xr,{...a}),r!=="loading"&&p.createElement(ea,null,r==="error"?p.createElement(Wr,{...a}):p.createElement(Qr,{...a})))},na=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ia=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,la="0%{opacity:0;} 100%{opacity:1;}",oa="0%{opacity:1;} 100%{opacity:0;}",ca=ce("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,da=ce("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ma=(t,s)=>{let r=t.includes("top")?1:-1,[a,n]=Ns()?[la,oa]:[na(r),ia(r)];return{animation:s?`${ne(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ne(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ua=p.memo(({toast:t,position:s,style:r,children:a})=>{let n=t.height?ma(t.position||s||"top-center",t.visible):{opacity:0},i=p.createElement(aa,{toast:t}),l=p.createElement(da,{...t.ariaProps},qe(t.message,t));return p.createElement(ca,{className:t.className,style:{...n,...r,...t.style}},typeof a=="function"?a({icon:i,message:l}):p.createElement(p.Fragment,null,i,l))});Ar(p.createElement);var xa=({id:t,className:s,style:r,onHeightUpdate:a,children:n})=>{let i=p.useCallback(l=>{if(l){let o=()=>{let m=l.getBoundingClientRect().height;a(t,m)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return p.createElement("div",{ref:i,className:s,style:r},n)},ha=(t,s)=>{let r=t.includes("top"),a=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ns()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(r?1:-1)}px)`,...a,...n}},ga=Xe`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$e=16,pa=({reverseOrder:t,position:s="top-center",toastOptions:r,gutter:a,children:n,containerStyle:i,containerClassName:l})=>{let{toasts:o,handlers:m}=Hr(r);return p.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:$e,left:$e,right:$e,bottom:$e,pointerEvents:"none",...i},className:l,onMouseEnter:m.startPause,onMouseLeave:m.endPause},o.map(c=>{let u=c.position||s,g=m.calculateOffset(c,{reverseOrder:t,gutter:a,defaultPosition:s}),h=ha(u,g);return p.createElement(xa,{id:c.id,key:c.id,onHeightUpdate:m.updateHeight,className:c.visible?ga:"",style:h},c.type==="custom"?qe(c.message,c):n?n(c):p.createElement(ua,{toast:c,position:u}))}))},F=K;function ws(t,s){return function(){return t.apply(s,arguments)}}const{toString:fa}=Object.prototype,{getPrototypeOf:Rt}=Object,{iterator:Ze,toStringTag:ks}=Symbol,Ye=(t=>s=>{const r=fa.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Q=t=>(t=t.toLowerCase(),s=>Ye(s)===t),Qe=t=>s=>typeof s===t,{isArray:Ne}=Array,Fe=Qe("undefined");function ya(t){return t!==null&&!Fe(t)&&t.constructor!==null&&!Fe(t.constructor)&&X(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ss=Q("ArrayBuffer");function ba(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Ss(t.buffer),s}const ja=Qe("string"),X=Qe("function"),Cs=Qe("number"),et=t=>t!==null&&typeof t=="object",Na=t=>t===!0||t===!1,_e=t=>{if(Ye(t)!=="object")return!1;const s=Rt(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(ks in t)&&!(Ze in t)},va=Q("Date"),wa=Q("File"),ka=Q("Blob"),Sa=Q("FileList"),Ca=t=>et(t)&&X(t.pipe),Ra=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||X(t.append)&&((s=Ye(t))==="formdata"||s==="object"&&X(t.toString)&&t.toString()==="[object FormData]"))},Ea=Q("URLSearchParams"),[Fa,La,Oa,Ta]=["ReadableStream","Request","Response","Headers"].map(Q),Aa=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Te(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),Ne(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(a=0;a<l;a++)o=i[a],s.call(null,t[o],o,t)}}function Rs(t,s){s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const ue=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Es=t=>!Fe(t)&&t!==ue;function ft(){const{caseless:t}=Es(this)&&this||{},s={},r=(a,n)=>{const i=t&&Rs(s,n)||n;_e(s[i])&&_e(a)?s[i]=ft(s[i],a):_e(a)?s[i]=ft({},a):Ne(a)?s[i]=a.slice():s[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&Te(arguments[a],r);return s}const Da=(t,s,r,{allOwnKeys:a}={})=>(Te(s,(n,i)=>{r&&X(n)?t[i]=ws(n,r):t[i]=n},{allOwnKeys:a}),t),Pa=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ma=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},Ua=(t,s,r,a)=>{let n,i,l;const o={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=r!==!1&&Rt(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},$a=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},Ia=t=>{if(!t)return null;if(Ne(t))return t;let s=t.length;if(!Cs(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},_a=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Rt(Uint8Array)),Ba=(t,s)=>{const a=(t&&t[Ze]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},za=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},qa=Q("HTMLFormElement"),Ha=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Wt=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),Ja=Q("RegExp"),Fs=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};Te(r,(n,i)=>{let l;(l=s(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},Va=t=>{Fs(t,(s,r)=>{if(X(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(X(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ga=(t,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return Ne(t)?a(t):a(String(t).split(s)),r},Wa=()=>{},Ka=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Xa(t){return!!(t&&X(t.append)&&t[ks]==="FormData"&&t[Ze])}const Za=t=>{const s=new Array(10),r=(a,n)=>{if(et(a)){if(s.indexOf(a)>=0)return;if(!("toJSON"in a)){s[n]=a;const i=Ne(a)?[]:{};return Te(a,(l,o)=>{const m=r(l,n+1);!Fe(m)&&(i[o]=m)}),s[n]=void 0,i}}return a};return r(t,0)},Ya=Q("AsyncFunction"),Qa=t=>t&&(et(t)||X(t))&&X(t.then)&&X(t.catch),Ls=((t,s)=>t?setImmediate:s?((r,a)=>(ue.addEventListener("message",({source:n,data:i})=>{n===ue&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),ue.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",X(ue.postMessage)),en=typeof queueMicrotask<"u"?queueMicrotask.bind(ue):typeof process<"u"&&process.nextTick||Ls,tn=t=>t!=null&&X(t[Ze]),x={isArray:Ne,isArrayBuffer:Ss,isBuffer:ya,isFormData:Ra,isArrayBufferView:ba,isString:ja,isNumber:Cs,isBoolean:Na,isObject:et,isPlainObject:_e,isReadableStream:Fa,isRequest:La,isResponse:Oa,isHeaders:Ta,isUndefined:Fe,isDate:va,isFile:wa,isBlob:ka,isRegExp:Ja,isFunction:X,isStream:Ca,isURLSearchParams:Ea,isTypedArray:_a,isFileList:Sa,forEach:Te,merge:ft,extend:Da,trim:Aa,stripBOM:Pa,inherits:Ma,toFlatObject:Ua,kindOf:Ye,kindOfTest:Q,endsWith:$a,toArray:Ia,forEachEntry:Ba,matchAll:za,isHTMLForm:qa,hasOwnProperty:Wt,hasOwnProp:Wt,reduceDescriptors:Fs,freezeMethods:Va,toObjectSet:Ga,toCamelCase:Ha,noop:Wa,toFiniteNumber:Ka,findKey:Rs,global:ue,isContextDefined:Es,isSpecCompliantForm:Xa,toJSONObject:Za,isAsyncFn:Ya,isThenable:Qa,setImmediate:Ls,asap:en,isIterable:tn};function E(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}x.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const Os=E.prototype,Ts={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ts[t]={value:t}});Object.defineProperties(E,Ts);Object.defineProperty(Os,"isAxiosError",{value:!0});E.from=(t,s,r,a,n,i)=>{const l=Object.create(Os);return x.toFlatObject(t,l,function(m){return m!==Error.prototype},o=>o!=="isAxiosError"),E.call(l,t.message,s,r,a,n),l.cause=t,l.name=t.name,i&&Object.assign(l,i),l};const sn=null;function yt(t){return x.isPlainObject(t)||x.isArray(t)}function As(t){return x.endsWith(t,"[]")?t.slice(0,-2):t}function Kt(t,s,r){return t?t.concat(s).map(function(n,i){return n=As(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function rn(t){return x.isArray(t)&&!t.some(yt)}const an=x.toFlatObject(x,{},null,function(s){return/^is[A-Z]/.test(s)});function tt(t,s,r){if(!x.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=x.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,f){return!x.isUndefined(f[k])});const a=r.metaTokens,n=r.visitor||u,i=r.dots,l=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(s);if(!x.isFunction(n))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(x.isDate(y))return y.toISOString();if(x.isBoolean(y))return y.toString();if(!m&&x.isBlob(y))throw new E("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(y)||x.isTypedArray(y)?m&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,k,f){let N=y;if(y&&!f&&typeof y=="object"){if(x.endsWith(k,"{}"))k=a?k:k.slice(0,-2),y=JSON.stringify(y);else if(x.isArray(y)&&rn(y)||(x.isFileList(y)||x.endsWith(k,"[]"))&&(N=x.toArray(y)))return k=As(k),N.forEach(function(L,J){!(x.isUndefined(L)||L===null)&&s.append(l===!0?Kt([k],J,i):l===null?k:k+"[]",c(L))}),!1}return yt(y)?!0:(s.append(Kt(f,k,i),c(y)),!1)}const g=[],h=Object.assign(an,{defaultVisitor:u,convertValue:c,isVisitable:yt});function j(y,k){if(!x.isUndefined(y)){if(g.indexOf(y)!==-1)throw Error("Circular reference detected in "+k.join("."));g.push(y),x.forEach(y,function(N,S){(!(x.isUndefined(N)||N===null)&&n.call(s,N,x.isString(S)?S.trim():S,k,h))===!0&&j(N,k?k.concat(S):[S])}),g.pop()}}if(!x.isObject(t))throw new TypeError("data must be an object");return j(t),s}function Xt(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Et(t,s){this._pairs=[],t&&tt(t,this,s)}const Ds=Et.prototype;Ds.append=function(s,r){this._pairs.push([s,r])};Ds.toString=function(s){const r=s?function(a){return s.call(this,a,Xt)}:Xt;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function nn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ps(t,s,r){if(!s)return t;const a=r&&r.encode||nn;x.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=x.isURLSearchParams(s)?s.toString():new Et(s,r).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Zt{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){x.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Ms={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ln=typeof URLSearchParams<"u"?URLSearchParams:Et,on=typeof FormData<"u"?FormData:null,cn=typeof Blob<"u"?Blob:null,dn={isBrowser:!0,classes:{URLSearchParams:ln,FormData:on,Blob:cn},protocols:["http","https","file","blob","url","data"]},Ft=typeof window<"u"&&typeof document<"u",bt=typeof navigator=="object"&&navigator||void 0,mn=Ft&&(!bt||["ReactNative","NativeScript","NS"].indexOf(bt.product)<0),un=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xn=Ft&&window.location.href||"http://localhost",hn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ft,hasStandardBrowserEnv:mn,hasStandardBrowserWebWorkerEnv:un,navigator:bt,origin:xn},Symbol.toStringTag,{value:"Module"})),G={...hn,...dn};function gn(t,s){return tt(t,new G.classes.URLSearchParams,Object.assign({visitor:function(r,a,n,i){return G.isNode&&x.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},s))}function pn(t){return x.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function fn(t){const s={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=t[i];return s}function Us(t){function s(r,a,n,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),m=i>=r.length;return l=!l&&x.isArray(n)?n.length:l,m?(x.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!x.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],i)&&x.isArray(n[l])&&(n[l]=fn(n[l])),!o)}if(x.isFormData(t)&&x.isFunction(t.entries)){const r={};return x.forEachEntry(t,(a,n)=>{s(pn(a),n,r,0)}),r}return null}function yn(t,s,r){if(x.isString(t))try{return(s||JSON.parse)(t),x.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const Ae={transitional:Ms,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=x.isObject(s);if(i&&x.isHTMLForm(s)&&(s=new FormData(s)),x.isFormData(s))return n?JSON.stringify(Us(s)):s;if(x.isArrayBuffer(s)||x.isBuffer(s)||x.isStream(s)||x.isFile(s)||x.isBlob(s)||x.isReadableStream(s))return s;if(x.isArrayBufferView(s))return s.buffer;if(x.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return gn(s,this.formSerializer).toString();if((o=x.isFileList(s))||a.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return tt(o?{"files[]":s}:s,m&&new m,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),yn(s)):s}],transformResponse:[function(s){const r=this.transitional||Ae.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(x.isResponse(s)||x.isReadableStream(s))return s;if(s&&x.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(o){if(l)throw o.name==="SyntaxError"?E.from(o,E.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G.classes.FormData,Blob:G.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],t=>{Ae.headers[t]={}});const bn=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jn=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&bn[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Yt=Symbol("internals");function Ce(t){return t&&String(t).trim().toLowerCase()}function Be(t){return t===!1||t==null?t:x.isArray(t)?t.map(Be):String(t)}function Nn(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const vn=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lt(t,s,r,a,n){if(x.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!x.isString(s)){if(x.isString(a))return s.indexOf(a)!==-1;if(x.isRegExp(a))return a.test(s)}}function wn(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function kn(t,s){const r=x.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,l){return this[a].call(this,s,n,i,l)},configurable:!0})})}let Z=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(o,m,c){const u=Ce(m);if(!u)throw new Error("header name must be a non-empty string");const g=x.findKey(n,u);(!g||n[g]===void 0||c===!0||c===void 0&&n[g]!==!1)&&(n[g||m]=Be(o))}const l=(o,m)=>x.forEach(o,(c,u)=>i(c,u,m));if(x.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(x.isString(s)&&(s=s.trim())&&!vn(s))l(jn(s),r);else if(x.isObject(s)&&x.isIterable(s)){let o={},m,c;for(const u of s){if(!x.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(m=o[c])?x.isArray(m)?[...m,u[1]]:[m,u[1]]:u[1]}l(o,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=Ce(s),s){const a=x.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return Nn(n);if(x.isFunction(r))return r.call(this,n,a);if(x.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Ce(s),s){const a=x.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||lt(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(l){if(l=Ce(l),l){const o=x.findKey(a,l);o&&(!r||lt(a,a[o],o,r))&&(delete a[o],n=!0)}}return x.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||lt(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return x.forEach(this,(n,i)=>{const l=x.findKey(a,i);if(l){r[l]=Be(n),delete r[i];return}const o=s?wn(i):String(i).trim();o!==i&&delete r[i],r[o]=Be(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return x.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&x.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Yt]=this[Yt]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=Ce(l);a[o]||(kn(n,l),a[o]=!0)}return x.isArray(s)?s.forEach(i):i(s),this}};Z.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(Z.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});x.freezeMethods(Z);function ot(t,s){const r=this||Ae,a=s||r,n=Z.from(a.headers);let i=a.data;return x.forEach(t,function(o){i=o.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function $s(t){return!!(t&&t.__CANCEL__)}function ve(t,s,r){E.call(this,t??"canceled",E.ERR_CANCELED,s,r),this.name="CanceledError"}x.inherits(ve,E,{__CANCEL__:!0});function Is(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new E("Request failed with status code "+r.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Sn(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Cn(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,l;return s=s!==void 0?s:1e3,function(m){const c=Date.now(),u=a[i];l||(l=c),r[n]=m,a[n]=c;let g=i,h=0;for(;g!==n;)h+=r[g++],g=g%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),c-l<s)return;const j=u&&c-u;return j?Math.round(h*1e3/j):void 0}}function Rn(t,s){let r=0,a=1e3/s,n,i;const l=(c,u=Date.now())=>{r=u,n=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),g=u-r;g>=a?l(c,u):(n=c,i||(i=setTimeout(()=>{i=null,l(n)},a-g)))},()=>n&&l(n)]}const He=(t,s,r=3)=>{let a=0;const n=Cn(50,250);return Rn(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,m=l-a,c=n(m),u=l<=o;a=l;const g={loaded:l,total:o,progress:o?l/o:void 0,bytes:m,rate:c||void 0,estimated:c&&o&&u?(o-l)/c:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(g)},r)},Qt=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},es=t=>(...s)=>x.asap(()=>t(...s)),En=G.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,G.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(G.origin),G.navigator&&/(msie|trident)/i.test(G.navigator.userAgent)):()=>!0,Fn=G.hasStandardBrowserEnv?{write(t,s,r,a,n,i){const l=[t+"="+encodeURIComponent(s)];x.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),x.isString(a)&&l.push("path="+a),x.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ln(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function On(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function _s(t,s,r){let a=!Ln(s);return t&&(a||r==!1)?On(t,s):s}const ts=t=>t instanceof Z?{...t}:t;function ge(t,s){s=s||{};const r={};function a(c,u,g,h){return x.isPlainObject(c)&&x.isPlainObject(u)?x.merge.call({caseless:h},c,u):x.isPlainObject(u)?x.merge({},u):x.isArray(u)?u.slice():u}function n(c,u,g,h){if(x.isUndefined(u)){if(!x.isUndefined(c))return a(void 0,c,g,h)}else return a(c,u,g,h)}function i(c,u){if(!x.isUndefined(u))return a(void 0,u)}function l(c,u){if(x.isUndefined(u)){if(!x.isUndefined(c))return a(void 0,c)}else return a(void 0,u)}function o(c,u,g){if(g in s)return a(c,u);if(g in t)return a(void 0,c)}const m={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(c,u,g)=>n(ts(c),ts(u),g,!0)};return x.forEach(Object.keys(Object.assign({},t,s)),function(u){const g=m[u]||n,h=g(t[u],s[u],u);x.isUndefined(h)&&g!==o||(r[u]=h)}),r}const Bs=t=>{const s=ge({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=s;s.headers=l=Z.from(l),s.url=Ps(_s(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let m;if(x.isFormData(r)){if(G.hasStandardBrowserEnv||G.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((m=l.getContentType())!==!1){const[c,...u]=m?m.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([c||"multipart/form-data",...u].join("; "))}}if(G.hasStandardBrowserEnv&&(a&&x.isFunction(a)&&(a=a(s)),a||a!==!1&&En(s.url))){const c=n&&i&&Fn.read(i);c&&l.set(n,c)}return s},Tn=typeof XMLHttpRequest<"u",An=Tn&&function(t){return new Promise(function(r,a){const n=Bs(t);let i=n.data;const l=Z.from(n.headers).normalize();let{responseType:o,onUploadProgress:m,onDownloadProgress:c}=n,u,g,h,j,y;function k(){j&&j(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let f=new XMLHttpRequest;f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout;function N(){if(!f)return;const L=Z.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),$={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:L,config:t,request:f};Is(function(A){r(A),k()},function(A){a(A),k()},$),f=null}"onloadend"in f?f.onloadend=N:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(N)},f.onabort=function(){f&&(a(new E("Request aborted",E.ECONNABORTED,t,f)),f=null)},f.onerror=function(){a(new E("Network Error",E.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let J=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const $=n.transitional||Ms;n.timeoutErrorMessage&&(J=n.timeoutErrorMessage),a(new E(J,$.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,t,f)),f=null},i===void 0&&l.setContentType(null),"setRequestHeader"in f&&x.forEach(l.toJSON(),function(J,$){f.setRequestHeader($,J)}),x.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),o&&o!=="json"&&(f.responseType=n.responseType),c&&([h,y]=He(c,!0),f.addEventListener("progress",h)),m&&f.upload&&([g,j]=He(m),f.upload.addEventListener("progress",g),f.upload.addEventListener("loadend",j)),(n.cancelToken||n.signal)&&(u=L=>{f&&(a(!L||L.type?new ve(null,t,f):L),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const S=Sn(n.url);if(S&&G.protocols.indexOf(S)===-1){a(new E("Unsupported protocol "+S+":",E.ERR_BAD_REQUEST,t));return}f.send(i||null)})},Dn=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(c){if(!n){n=!0,o();const u=c instanceof Error?c:this.reason;a.abort(u instanceof E?u:new ve(u instanceof Error?u.message:u))}};let l=s&&setTimeout(()=>{l=null,i(new E(`timeout ${s} of ms exceeded`,E.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:m}=a;return m.unsubscribe=()=>x.asap(o),m}},Pn=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},Mn=async function*(t,s){for await(const r of Un(t))yield*Pn(r,s)},Un=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},ss=(t,s,r,a)=>{const n=Mn(t,s);let i=0,l,o=m=>{l||(l=!0,a&&a(m))};return new ReadableStream({async pull(m){try{const{done:c,value:u}=await n.next();if(c){o(),m.close();return}let g=u.byteLength;if(r){let h=i+=g;r(h)}m.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(m){return o(m),n.return()}},{highWaterMark:2})},st=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zs=st&&typeof ReadableStream=="function",$n=st&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),qs=(t,...s)=>{try{return!!t(...s)}catch{return!1}},In=zs&&qs(()=>{let t=!1;const s=new Request(G.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),rs=64*1024,jt=zs&&qs(()=>x.isReadableStream(new Response("").body)),Je={stream:jt&&(t=>t.body)};st&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Je[s]&&(Je[s]=x.isFunction(t[s])?r=>r[s]():(r,a)=>{throw new E(`Response type '${s}' is not supported`,E.ERR_NOT_SUPPORT,a)})})})(new Response);const _n=async t=>{if(t==null)return 0;if(x.isBlob(t))return t.size;if(x.isSpecCompliantForm(t))return(await new Request(G.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(x.isArrayBufferView(t)||x.isArrayBuffer(t))return t.byteLength;if(x.isURLSearchParams(t)&&(t=t+""),x.isString(t))return(await $n(t)).byteLength},Bn=async(t,s)=>{const r=x.toFiniteNumber(t.getContentLength());return r??_n(s)},zn=st&&(async t=>{let{url:s,method:r,data:a,signal:n,cancelToken:i,timeout:l,onDownloadProgress:o,onUploadProgress:m,responseType:c,headers:u,withCredentials:g="same-origin",fetchOptions:h}=Bs(t);c=c?(c+"").toLowerCase():"text";let j=Dn([n,i&&i.toAbortSignal()],l),y;const k=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let f;try{if(m&&In&&r!=="get"&&r!=="head"&&(f=await Bn(u,a))!==0){let $=new Request(s,{method:"POST",body:a,duplex:"half"}),b;if(x.isFormData(a)&&(b=$.headers.get("content-type"))&&u.setContentType(b),$.body){const[A,B]=Qt(f,He(es(m)));a=ss($.body,rs,A,B)}}x.isString(g)||(g=g?"include":"omit");const N="credentials"in Request.prototype;y=new Request(s,{...h,signal:j,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:N?g:void 0});let S=await fetch(y,h);const L=jt&&(c==="stream"||c==="response");if(jt&&(o||L&&k)){const $={};["status","statusText","headers"].forEach(I=>{$[I]=S[I]});const b=x.toFiniteNumber(S.headers.get("content-length")),[A,B]=o&&Qt(b,He(es(o),!0))||[];S=new Response(ss(S.body,rs,A,()=>{B&&B(),k&&k()}),$)}c=c||"text";let J=await Je[x.findKey(Je,c)||"text"](S,t);return!L&&k&&k(),await new Promise(($,b)=>{Is($,b,{data:J,headers:Z.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:y})})}catch(N){throw k&&k(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,t,y),{cause:N.cause||N}):E.from(N,N&&N.code,t,y)}}),Nt={http:sn,xhr:An,fetch:zn};x.forEach(Nt,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const as=t=>`- ${t}`,qn=t=>x.isFunction(t)||t===null||t===!1,Hs={getAdapter:t=>{t=x.isArray(t)?t:[t];const{length:s}=t;let r,a;const n={};for(let i=0;i<s;i++){r=t[i];let l;if(a=r,!qn(r)&&(a=Nt[(l=String(r)).toLowerCase()],a===void 0))throw new E(`Unknown adapter '${l}'`);if(a)break;n[l||"#"+i]=a}if(!a){const i=Object.entries(n).map(([o,m])=>`adapter ${o} `+(m===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(as).join(`
`):" "+as(i[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:Nt};function ct(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ve(null,t)}function ns(t){return ct(t),t.headers=Z.from(t.headers),t.data=ot.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Hs.getAdapter(t.adapter||Ae.adapter)(t).then(function(a){return ct(t),a.data=ot.call(t,t.transformResponse,a),a.headers=Z.from(a.headers),a},function(a){return $s(a)||(ct(t),a&&a.response&&(a.response.data=ot.call(t,t.transformResponse,a.response),a.response.headers=Z.from(a.response.headers))),Promise.reject(a)})}const Js="1.10.0",rt={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{rt[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const is={};rt.transitional=function(s,r,a){function n(i,l){return"[Axios v"+Js+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(s===!1)throw new E(n(l," has been removed"+(r?" in "+r:"")),E.ERR_DEPRECATED);return r&&!is[l]&&(is[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,o):!0}};rt.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function Hn(t,s,r){if(typeof t!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=s[i];if(l){const o=t[i],m=o===void 0||l(o,i,t);if(m!==!0)throw new E("option "+i+" must be "+m,E.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new E("Unknown option "+i,E.ERR_BAD_OPTION)}}const ze={assertOptions:Hn,validators:rt},te=ze.validators;let xe=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Zt,response:new Zt}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=ge(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&ze.assertOptions(a,{silentJSONParsing:te.transitional(te.boolean),forcedJSONParsing:te.transitional(te.boolean),clarifyTimeoutError:te.transitional(te.boolean)},!1),n!=null&&(x.isFunction(n)?r.paramsSerializer={serialize:n}:ze.assertOptions(n,{encode:te.function,serialize:te.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ze.assertOptions(r,{baseUrl:te.spelling("baseURL"),withXsrfToken:te.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&x.merge(i.common,i[r.method]);i&&x.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Z.concat(l,i);const o=[];let m=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(m=m&&k.synchronous,o.unshift(k.fulfilled,k.rejected))});const c=[];this.interceptors.response.forEach(function(k){c.push(k.fulfilled,k.rejected)});let u,g=0,h;if(!m){const y=[ns.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,c),h=y.length,u=Promise.resolve(r);g<h;)u=u.then(y[g++],y[g++]);return u}h=o.length;let j=r;for(g=0;g<h;){const y=o[g++],k=o[g++];try{j=y(j)}catch(f){k.call(this,f);break}}try{u=ns.call(this,j)}catch(y){return Promise.reject(y)}for(g=0,h=c.length;g<h;)u=u.then(c[g++],c[g++]);return u}getUri(s){s=ge(this.defaults,s);const r=_s(s.baseURL,s.url,s.allowAbsoluteUrls);return Ps(r,s.params,s.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(s){xe.prototype[s]=function(r,a){return this.request(ge(a||{},{method:s,url:r,data:(a||{}).data}))}});x.forEach(["post","put","patch"],function(s){function r(a){return function(i,l,o){return this.request(ge(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}xe.prototype[s]=r(),xe.prototype[s+"Form"]=r(!0)});let Jn=class Vs{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},s(function(i,l,o){a.reason||(a.reason=new ve(i,l,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Vs(function(n){s=n}),cancel:s}}};function Vn(t){return function(r){return t.apply(null,r)}}function Gn(t){return x.isObject(t)&&t.isAxiosError===!0}const vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vt).forEach(([t,s])=>{vt[s]=t});function Gs(t){const s=new xe(t),r=ws(xe.prototype.request,s);return x.extend(r,xe.prototype,s,{allOwnKeys:!0}),x.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Gs(ge(t,n))},r}const _=Gs(Ae);_.Axios=xe;_.CanceledError=ve;_.CancelToken=Jn;_.isCancel=$s;_.VERSION=Js;_.toFormData=tt;_.AxiosError=E;_.Cancel=_.CanceledError;_.all=function(s){return Promise.all(s)};_.spread=Vn;_.isAxiosError=Gn;_.mergeConfig=ge;_.AxiosHeaders=Z;_.formToJSON=t=>Us(x.isHTMLForm(t)?new FormData(t):t);_.getAdapter=Hs.getAdapter;_.HttpStatusCode=vt;_.default=_;const{Axios:Ti,AxiosError:Ai,CanceledError:Di,isCancel:Pi,CancelToken:Mi,VERSION:Ui,all:$i,Cancel:Ii,isAxiosError:_i,spread:Bi,toFormData:zi,AxiosHeaders:qi,HttpStatusCode:Hi,formToJSON:Ji,getAdapter:Vi,mergeConfig:Gi}=_,O=_.create({baseURL:"",timeout:1e4,headers:{"Content-Type":"application/json"}});O.interceptors.request.use(t=>{const s=localStorage.getItem("funcdock-token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));O.interceptors.response.use(t=>t,t=>{var s;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("funcdock-token"),window.location.href="/login"),Promise.reject(t)});const z={getFunctions:()=>O.get("/api/functions"),getFunction:t=>O.get(`/api/functions/${t}`),deployFromLocal:(t,s)=>{const r=new FormData;return r.append("name",t),s.forEach(a=>{r.append("files",a)}),O.post("/api/functions/deploy/local",r,{headers:{"Content-Type":"multipart/form-data"}})},deployFromGit:(t,s,r,a)=>O.post("/api/functions/deploy/git",{name:t,repo:s,branch:r,commit:a}),updateFunction:(t,s)=>{const r=new FormData;return r.append("name",t),s.forEach(a=>{r.append("files",a)}),O.put(`/api/functions/${t}`,r,{headers:{"Content-Type":"multipart/form-data"}})},deleteFunction:t=>O.delete(`/api/functions/${t}`),getLogs:(t,s=100)=>O.get(`/api/functions/${t}/logs?limit=${s}`),getMetrics:t=>O.get(`/api/functions/${t}/metrics`),testFunction:(t,s="GET",r=null)=>{const a={method:s,url:`/api/functions/${t}/test`};return r&&(a.data=r),O(a)},getCronJobs:t=>O.get(`/api/functions/${t}/cron`),updateCronJobs:(t,s)=>O.put(`/api/functions/${t}/cron`,{jobs:s}),getFunctionFiles:t=>O.get(`/api/functions/${t}/files`),getFileContent:(t,s)=>O.get(`/api/functions/${t}/files/content?path=${encodeURIComponent(s)}`),downloadFile:(t,s)=>O.get(`/api/functions/${t}/files/download?path=${encodeURIComponent(s)}`,{responseType:"blob"}),getEnv:t=>O.get(`/api/functions/${t}/env`)},Ve={getStatus:()=>O.get("/api/status"),getMetrics:()=>O.get("/api/metrics"),getLogs:(t=100)=>O.get(`/api/logs?limit=${t}`),getFunctionLogs:()=>O.get("/api/logs/functions")},ls={getGithubOAuthUrl:()=>O.get("/api/oauth/github"),getGithubRepos:()=>O.get("/api/github/repos")},os={getBitbucketOAuthUrl:()=>O.get("/api/oauth/bitbucket"),getBitbucketRepos:()=>O.get("/api/bitbucket/repos")},Ws=p.createContext(),De=()=>{const t=p.useContext(Ws);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Wn=({children:t})=>{const[s,r]=p.useState(null),[a,n]=p.useState(!0),i=ps();p.useEffect(()=>{const c=localStorage.getItem("funcdock-token");c?(O.defaults.headers.common.Authorization=`Bearer ${c}`,O.get("/api/auth/verify").then(u=>{r(u.data.user)}).catch(()=>{localStorage.removeItem("funcdock-token"),delete O.defaults.headers.common.Authorization}).finally(()=>{n(!1)})):n(!1)},[]);const m={user:s,loading:a,login:async(c,u)=>{var g,h;try{const j=await O.post("/api/auth/login",{username:c,password:u}),{token:y,user:k}=j.data;return localStorage.setItem("funcdock-token",y),O.defaults.headers.common.Authorization=`Bearer ${y}`,r(k),F.success("Login successful!"),i("/dashboard"),!0}catch(j){const y=((h=(g=j.response)==null?void 0:g.data)==null?void 0:h.message)||"Login failed";return F.error(y),!1}},logout:()=>{localStorage.removeItem("funcdock-token"),delete O.defaults.headers.common.Authorization,r(null),i("/login"),F.success("Logged out successfully")},isAuthenticated:!!s};return e.jsx(Ws.Provider,{value:m,children:t})},Ks=p.createContext(),Xs=()=>{const t=p.useContext(Ks);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Kn=({children:t})=>{const[s,r]=p.useState(()=>{const i=localStorage.getItem("funcdock-theme");return i!==null?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});p.useEffect(()=>{const i=window.document.documentElement;s?(i.classList.add("dark"),localStorage.setItem("funcdock-theme","dark")):(i.classList.remove("dark"),localStorage.setItem("funcdock-theme","light"))},[s]);const n={isDark:s,toggleTheme:()=>{r(!s)}};return e.jsx(Ks.Provider,{value:n,children:t})},Zs=p.createContext(),Pe=()=>{const t=p.useContext(Zs);if(!t)throw new Error("useSocket must be used within a SocketProvider");return t},Xn=({children:t})=>{const[s,r]=p.useState(null),[a,n]=p.useState(!1),{isAuthenticated:i}=De();p.useEffect(()=>{if(i){const u=jr("/",{auth:{token:localStorage.getItem("funcdock-token")}});return u.on("connect",()=>{n(!0),console.log("Connected to FuncDock server")}),u.on("disconnect",()=>{n(!1),console.log("Disconnected from FuncDock server")}),u.on("connect_error",g=>{console.error("Socket connection error:",g),n(!1)}),r(u),()=>{u.close()}}else s&&(s.close(),r(null),n(!1))},[i]);const c={socket:s,connected:a,emit:(u,g)=>{s&&a&&s.emit(u,g)},on:(u,g)=>{s&&s.on(u,g)},off:(u,g)=>{s&&s.off(u,g)}};return e.jsx(Zs.Provider,{value:c,children:t})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),R=(t,s)=>{const r=p.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:m,...c},u)=>p.createElement("svg",{ref:u,...Zn,width:n,height:n,stroke:a,strokeWidth:l?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Yn(t)}`,o].join(" "),...c},[...s.map(([g,h])=>p.createElement(g,h)),...Array.isArray(m)?m:[m]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=R("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=R("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=R("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=R("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=R("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=R("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=R("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=R("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=R("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=R("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=R("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=R("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=R("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=R("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=R("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=R("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=R("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=R("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=R("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=R("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=R("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=R("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=R("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=R("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=R("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=R("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=R("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=R("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=R("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=R("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=R("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=R("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=R("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=R("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=R("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=R("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=R("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=R("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fi=({children:t})=>{const[s,r]=p.useState(!1),{user:a,logout:n}=De(),{isDark:i,toggleTheme:l}=Xs(),{connected:o}=Pe(),m=fr(),c=[{name:"Dashboard",href:"/dashboard",icon:ri},{name:"Functions",href:"/functions",icon:he},{name:"Deploy",href:"/deploy",icon:ae},{name:"Logs",href:"/logs",icon:be},{name:"Settings",href:"/settings",icon:Ot}],u=g=>g==="/dashboard"?m.pathname==="/dashboard"||m.pathname==="/":m.pathname.startsWith(g);return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${s?"block":"hidden"}`,children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),e.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white dark:bg-gray-800",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FuncDock"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(Tt,{size:24})})]}),e.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:c.map(g=>{const h=g.icon;return e.jsxs(re,{to:g.href,onClick:()=>r(!1),className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${u(g.href)?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[e.jsx(h,{className:"mr-3 h-5 w-5"}),g.name]},g.name)})})]})]}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:e.jsxs("div",{className:"flex flex-col flex-grow bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex h-16 items-center px-4",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FuncDock"})}),e.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:c.map(g=>{const h=g.icon;return e.jsxs(re,{to:g.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${u(g.href)?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[e.jsx(h,{className:"mr-3 h-5 w-5"}),g.name]},g.name)})})]})}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[e.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 dark:text-gray-300 lg:hidden",onClick:()=>r(!0),children:e.jsx(ii,{size:20})}),e.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[e.jsx("div",{className:"flex flex-1"}),e.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[o?e.jsx(pi,{className:"h-4 w-4 text-success-500"}):e.jsx(gi,{className:"h-4 w-4 text-danger-500"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:o?"Connected":"Disconnected"})]}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i?e.jsx(hi,{size:20}):e.jsx(li,{size:20})}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:(a==null?void 0:a.username)||"Admin"}),e.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(ni,{size:20})})]})]})]})]}),e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t})})]})]})},Y=({size:t="md",type:s="spinner",text:r,className:a=""})=>{const n={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},i=()=>{switch(s){case"dots":return e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]});case"pulse":return e.jsx("div",{className:`${n[t]} bg-primary-600 rounded-full animate-pulse`});default:return e.jsxs("svg",{className:`${n[t]} animate-spin text-primary-600`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}};return e.jsx("div",{className:`flex items-center justify-center ${a}`,children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i(),r&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r})]})})},yi=({type:t="card",count:s=3,className:r=""})=>{const a=()=>{switch(t){case"card":return e.jsx("div",{className:"card animate-pulse",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 dark:bg-gray-700 rounded-full"}),e.jsx("div",{className:"ml-2 h-5 bg-gray-200 dark:bg-gray-700 rounded w-24"})]}),e.jsx("div",{className:"w-16 h-5 bg-gray-200 dark:bg-gray-700 rounded"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-16 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-8 h-4 bg-gray-200 dark:bg-gray-700 rounded"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-20 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-8 h-4 bg-gray-200 dark:bg-gray-700 rounded"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-24 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-16 h-4 bg-gray-200 dark:bg-gray-700 rounded"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"flex-1 h-8 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-10 h-8 bg-gray-200 dark:bg-gray-700 rounded"})]})]})});case"list":return e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 dark:bg-gray-700 rounded-full"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-32 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-20"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-4 h-4 bg-gray-200 dark:bg-gray-700 rounded"})]})]})});default:return null}};return e.jsx("div",{className:r,children:Array.from({length:s}).map((n,i)=>e.jsx("div",{className:i>0?"mt-4":"",children:a()},i))})},bi=()=>{const[t,s]=p.useState(""),[r,a]=p.useState(""),[n,i]=p.useState(!1),[l,o]=p.useState(!1),{login:m}=De(),{isDark:c}=Xs(),u=async g=>{g.preventDefault(),!(!t||!r)&&(o(!0),await m(t,r),o(!1))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900",children:e.jsx(us,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to FuncDock"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Manage your serverless functions"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"input rounded-t-lg rounded-b-none",placeholder:"Username",value:t,onChange:g=>s(g.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,className:"input rounded-t-none rounded-b-lg pr-10",placeholder:"Password",value:r,onChange:g=>a(g.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!n),children:n?e.jsx(ti,{className:"h-5 w-5 text-gray-400"}):e.jsx(Ge,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:l||!t||!r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsx(Y,{size:"sm",className:"text-white"}):e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"h-5 w-5 mr-2"}),"Sign in"]})})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Default credentials: admin / admin"})})]})]})})},ji=()=>{const[t,s]=p.useState([]),[r,a]=p.useState(null),[n,i]=p.useState([]),[l,o]=p.useState(!0),{on:m}=Pe();p.useEffect(()=>(c(),m("function:loaded",h=>{s(j=>j.find(k=>k.name===h.name)?j.map(k=>k.name===h.name?{...k,...h}:k):[...j,h])}),m("function:unloaded",h=>{s(j=>j.filter(y=>y.name!==h.name))}),m("function:updated",h=>{s(j=>j.map(y=>y.name===h.name?{...y,...h}:y))}),m("log:new",h=>{i(j=>[h,...j.slice(0,9)])}),()=>{}),[m]);const c=async()=>{try{const[h,j,y]=await Promise.all([z.getFunctions(),Ve.getStatus(),Ve.getLogs(10)]);s(h.data.functions||[]),a(j.data),i(y.data.logs||[])}catch(h){console.error("Failed to fetch dashboard data:",h)}finally{o(!1)}},u=h=>{switch(h){case"running":return"text-success-600";case"error":return"text-danger-600";case"stopped":return"text-warning-600";default:return"text-gray-600"}},g=h=>{switch(h){case"running":return e.jsx(Lt,{className:"h-5 w-5 text-success-600"});case"error":return e.jsx(Le,{className:"h-5 w-5 text-danger-600"});case"stopped":return e.jsx(pe,{className:"h-5 w-5 text-warning-600"});default:return e.jsx(oe,{className:"h-5 w-5 text-gray-600"})}};return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Y,{size:"lg",text:"Loading dashboard..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Overview of your FuncDock platform"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"card p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(he,{className:"h-6 w-6 text-primary-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:"Total Functions"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.length})]})})]})}),e.jsx("div",{className:"card p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(je,{className:"h-6 w-6 text-success-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:"Running Functions"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.filter(h=>h.status==="running").length})]})})]})}),e.jsx("div",{className:"card p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(pe,{className:"h-6 w-6 text-warning-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:"Errors"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.filter(h=>h.status==="error").length})]})})]})}),e.jsx("div",{className:"card p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(oe,{className:"h-6 w-6 text-primary-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:"Uptime"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r!=null&&r.uptime?`${Math.floor(r.uptime/3600)}h`:"N/A"})]})})]})})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Functions"}),e.jsx(re,{to:"/functions",className:"btn-primary text-sm",children:"View All"})]}),t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(he,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No functions yet"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Deploy your first function to get started"}),e.jsxs(re,{to:"/deploy",className:"btn-primary text-sm inline-flex items-center",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Deploy Function"]})]}):e.jsx("div",{className:"overflow-hidden",children:e.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.slice(0,5).map(h=>{var j;return e.jsx("li",{className:"py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[g(h.status),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[((j=h.routes)==null?void 0:j.length)||0," routes"]}),h.routes&&h.routes.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[Array.from(new Set(h.routes.map(y=>y.method))).slice(0,2).map(y=>e.jsx("span",{className:`badge text-xs ${y==="GET"?"badge-success":y==="POST"?"badge-primary":y==="PUT"?"badge-warning":y==="DELETE"?"badge-danger":y==="PATCH"?"badge-info":y==="OPTIONS"?"badge-secondary":"badge-info"}`,children:y},y)),Array.from(new Set(h.routes.map(y=>y.method))).length>2&&e.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["+",Array.from(new Set(h.routes.map(y=>y.method))).length-2]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm ${u(h.status)}`,children:h.status}),e.jsx(re,{to:`/functions/${h.name}`,className:"text-primary-600 hover:text-primary-500",children:e.jsx(Qn,{className:"h-4 w-4"})})]})]})},h.name)})})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(oe,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No recent activity"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Activity will appear here as your functions are executed and logs are generated."})]}):e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-mb-8",children:n.map((h,j)=>e.jsx("li",{children:e.jsxs("div",{className:"relative pb-8",children:[j!==n.length-1?e.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"}):null,e.jsxs("div",{className:"relative flex space-x-3",children:[e.jsx("div",{children:e.jsx("span",{className:"h-8 w-8 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center ring-8 ring-white dark:ring-gray-800",children:e.jsx(je,{className:"h-4 w-4 text-primary-600 dark:text-primary-400"})})}),e.jsxs("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.message})}),e.jsx("div",{className:"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400",children:e.jsx("time",{dateTime:h.timestamp,children:new Date(h.timestamp).toLocaleTimeString()})})]})]})]})},j))})})]})})]})},xt=24,Ni=()=>{const[t,s]=p.useState([]),[r,a]=p.useState(!0),{on:n}=Pe(),[i,l]=p.useState(""),[o,m]=p.useState(1);p.useEffect(()=>(c(),n("function:loaded",f=>{s(N=>N.find(L=>L.name===f.name)?N.map(L=>L.name===f.name?{...L,...f}:L):[...N,f])}),n("function:unloaded",f=>{s(N=>N.filter(S=>S.name!==f.name))}),n("function:updated",f=>{s(N=>N.map(S=>S.name===f.name?{...S,...f}:S))}),()=>{}),[n]);const c=async()=>{try{const f=await z.getFunctions();s(f.data.functions||[])}catch(f){console.error("Failed to fetch functions:",f),F.error("Failed to load functions")}finally{a(!1)}},u=async f=>{if(confirm(`Are you sure you want to delete the function "${f}"?`))try{await z.deleteFunction(f),F.success(`Function "${f}" deleted successfully`)}catch(N){console.error("Failed to delete function:",N),F.error("Failed to delete function")}},g=f=>{switch(f){case"running":return e.jsx(Lt,{className:"h-5 w-5 text-success-600"});case"error":return e.jsx(Le,{className:"h-5 w-5 text-danger-600"});case"stopped":return e.jsx(pe,{className:"h-5 w-5 text-warning-600"});default:return e.jsx(oe,{className:"h-5 w-5 text-gray-600"})}},h=f=>{switch(f){case"running":return"badge-success";case"error":return"badge-danger";case"stopped":return"badge-warning";default:return"badge-info"}},j=p.useMemo(()=>t.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())).sort((f,N)=>f.name.localeCompare(N.name)),[t,i]),y=Math.ceil(j.length/xt),k=j.slice((o-1)*xt,o*xt);return p.useEffect(()=>{m(1)},[i]),r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Functions"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage your serverless functions"})]}),e.jsx("div",{className:"w-32 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"})]}),e.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse w-64 mb-2"}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.jsx(yi,{type:"card",count:6})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Functions"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage your serverless functions"})]}),e.jsx(re,{to:"/deploy",className:"btn-primary",children:"Deploy Function"})]}),e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 mb-2",children:[e.jsx("input",{type:"text",value:i,onChange:f=>l(f.target.value),placeholder:"Search functions...",className:"input w-64"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j.length," function",j.length!==1?"s":""," found"]})]}),j.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6",children:e.jsx(he,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No functions deployed yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Get started by deploying your first serverless function. You can deploy from local files or directly from a Git repository."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs(re,{to:"/deploy",className:"btn-primary inline-flex items-center",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Deploy Your First Function"]}),e.jsxs("a",{href:"https://github.com/your-repo/funcdock#quick-start",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary inline-flex items-center",children:[e.jsx(ei,{className:"h-4 w-4 mr-2"}),"View Documentation"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:k.map(f=>{var N;return e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[g(f.status),e.jsx("h3",{className:"ml-2 text-lg font-medium text-gray-900 dark:text-white",children:f.name})]}),e.jsx("span",{className:`badge ${h(f.status)}`,children:f.status})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Routes:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:((N=f.routes)==null?void 0:N.length)||0}),f.routes&&f.routes.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[Array.from(new Set(f.routes.map(S=>S.method))).slice(0,3).map(S=>e.jsx("span",{className:`badge text-xs ${S==="GET"?"badge-success":S==="POST"?"badge-primary":S==="PUT"?"badge-warning":S==="DELETE"?"badge-danger":S==="PATCH"?"badge-info":S==="OPTIONS"?"badge-secondary":"badge-info"}`,children:S},S)),Array.from(new Set(f.routes.map(S=>S.method))).length>3&&e.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["+",Array.from(new Set(f.routes.map(S=>S.method))).length-3]})]})]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Cron Jobs:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:f.cronJobs||0})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Last Deployed:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:f.lastDeployed?new Date(f.lastDeployed).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(re,{to:`/functions/${f.name}`,className:"flex-1 btn-secondary inline-flex items-center justify-center",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsx("button",{onClick:()=>u(f.name),className:"btn-danger inline-flex items-center justify-center",children:e.jsx(Ct,{className:"h-4 w-4"})})]})]})},f.name)})}),y>1&&e.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[e.jsx("button",{className:"btn-secondary px-3 py-1",onClick:()=>m(o-1),disabled:o===1,children:"Previous"}),Array.from({length:y},(f,N)=>e.jsx("button",{className:`btn-secondary px-3 py-1 ${o===N+1?"bg-primary-600 text-white":""}`,onClick:()=>m(N+1),children:N+1},N)),e.jsx("button",{className:"btn-secondary px-3 py-1",onClick:()=>m(o+1),disabled:o===y,children:"Next"})]})]})]})},vi=()=>{var zt,qt,Ht;const{name:t}=yr(),[s,r]=p.useState(null),[a,n]=p.useState([]),[i,l]=p.useState(null),[o,m]=p.useState(!0),[c,u]=p.useState("overview"),[g,h]=p.useState({method:"GET",path:"/",data:"",headers:""}),[j,y]=p.useState(null),[k,f]=p.useState(!1),[N,S]=p.useState([]),{on:L}=Pe(),[J,$]=p.useState(!1),[b,A]=p.useState([]),[B,I]=p.useState(!1),[D,q]=p.useState({name:"",schedule:"",handler:"cron-handler.js",timezone:"UTC",description:""}),[v,P]=p.useState(-1),[w,M]=p.useState([]),[U,H]=p.useState(null),[ye,ie]=p.useState(""),[at,Me]=p.useState(!1),[At,Ys]=p.useState(new Set),[nt,Dt]=p.useState(null),[Qs,Pt]=p.useState(!1),[Ue,er]=p.useState("all"),[Mt,tr]=p.useState(new Set);p.useEffect(()=>(we(),L("function:updated",d=>{d.name===t&&r(C=>({...C,...d}))}),()=>{}),[t,L]),p.useEffect(()=>{c==="env"&&(Pt(!0),z.getEnv(t).then(d=>Dt(d.data.env||{})).catch(()=>Dt({})).finally(()=>Pt(!1)))},[c,t]);const we=async()=>{try{const[d,C,T,V,W]=await Promise.all([z.getFunction(t),z.getLogs(t,50),z.getMetrics(t),z.getCronJobs(t),z.getFunctionFiles(t)]);r(d.data);const ke=(C.data.logs||[]).map(Se=>{if(typeof Se=="object"&&Se!==null)return Se;try{return JSON.parse(Se)}catch{return{message:Se,level:"INFO",timestamp:"",isPlain:!0}}});n(ke),l(T.data),A(V.data.jobs||[]),M(W.data.files||[])}catch(d){console.error("Failed to fetch function data:",d),F.error("Failed to load function data")}finally{m(!1)}},sr=async()=>{f(!0);try{const d=await z.testFunction(t,g.method,g.data?JSON.parse(g.data):null);y(d.data),F.success("Function test completed")}catch(d){console.error("Test failed:",d),F.error("Function test failed")}finally{f(!1)}},rr=async()=>{if(N.length===0){F.error("Please select files to update");return}try{await z.updateFunction(t,N),F.success("Function updated successfully"),we(),S([])}catch(d){console.error("Update failed:",d),F.error("Failed to update function")}},ar=async()=>{if(confirm(`Are you sure you want to delete the function "${t}"?`))try{await z.deleteFunction(t),F.success(`Function "${t}" deleted successfully`),window.location.href="/functions"}catch(d){console.error("Failed to delete function:",d),F.error("Failed to delete function")}},nr=d=>{switch(d){case"running":return e.jsx(Lt,{className:"h-5 w-5 text-success-600"});case"error":return e.jsx(Le,{className:"h-5 w-5 text-danger-600"});case"stopped":return e.jsx(pe,{className:"h-5 w-5 text-warning-600"});default:return e.jsx(oe,{className:"h-5 w-5 text-gray-600"})}},ir=d=>{switch(d){case"running":return"badge-success";case"error":return"badge-danger";case"stopped":return"badge-warning";default:return"badge-info"}},lr=()=>{if(s!=null&&s.baseUrl){const d=window.location.origin+s.baseUrl;navigator.clipboard.writeText(d),$(!0),setTimeout(()=>$(!1),1500)}},Ut=()=>{I(!0),P(-1),q({name:"",schedule:"",handler:"cron-handler.js",timezone:"UTC",description:""})},or=d=>{I(!0),P(d),q({...b[d]})},cr=d=>{const C=b.filter((T,V)=>V!==d);A(C)},dr=async()=>{if(!D.name||!D.schedule||!D.handler){F.error("Please fill in all required fields");return}try{let d;v>=0?(d=[...b],d[v]=D):d=[...b,D],await z.updateCronJobs(t,d),A(d),I(!1),P(-1),F.success("Cron jobs updated successfully")}catch(d){console.error("Failed to update cron jobs:",d),F.error("Failed to update cron jobs")}},mr=()=>{I(!1),P(-1),q({name:"",schedule:"",handler:"cron-handler.js",timezone:"UTC",description:""})},$t=async d=>{if(d.type==="directory"){const C=new Set(At);C.has(d.path)?C.delete(d.path):C.add(d.path),Ys(C)}else{H(d),Me(!0);try{const C=await z.getFileContent(t,d.path);ie(C.data.content)}catch(C){console.error("Failed to load file content:",C),F.error("Failed to load file content"),ie("Error loading file content")}finally{Me(!1)}}},It=async d=>{try{const C=await z.downloadFile(t,d.path),T=window.URL.createObjectURL(C.data),V=document.createElement("a");V.href=T,V.download=d.name,document.body.appendChild(V),V.click(),document.body.removeChild(V),window.URL.revokeObjectURL(T),F.success("File downloaded successfully")}catch(C){console.error("Failed to download file:",C),F.error("Failed to download file")}},_t=(d,C=0)=>d.map(T=>{const V=At.has(T.path),W=T.children&&T.children.length>0;return e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer ${(U==null?void 0:U.path)===T.path?"bg-blue-50 dark:bg-blue-900/20":""}`,style:{paddingLeft:`${C*20+12}px`},onClick:()=>$t(T),children:[T.type==="directory"?e.jsxs(e.Fragment,{children:[W?V?e.jsx(wt,{className:"h-4 w-4 text-gray-400 mr-2"}):e.jsx(kt,{className:"h-4 w-4 text-gray-400 mr-2"}):e.jsx("div",{className:"w-4 mr-2"}),e.jsx(mt,{className:"h-4 w-4 text-blue-500 mr-2"})]}):e.jsx(Ee,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:T.name}),T.type==="file"&&e.jsxs("div",{className:"ml-auto flex items-center space-x-1",children:[e.jsx("button",{onClick:de=>{de.stopPropagation(),$t(T)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"View file",children:e.jsx(Ge,{className:"h-3 w-3 text-gray-500"})}),e.jsx("button",{onClick:de=>{de.stopPropagation(),It(T)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Download file",children:e.jsx(St,{className:"h-3 w-3 text-gray-500"})})]})]}),T.type==="directory"&&V&&W&&e.jsx("div",{children:_t(T.children,C+1)})]},T.path)}),Bt=a.filter(d=>Ue==="CRON"?d.level==="CRON"||d.level==="CRON_ERROR":!(Ue!=="all"&&d.level!==Ue)),ur=d=>{switch(d){case"ERROR":case"CRON_ERROR":return"text-red-600 bg-red-50 dark:bg-red-900/20";case"WARN":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"INFO":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}},xr=d=>{const C=new Set(Mt);C.has(d)?C.delete(d):C.add(d),tr(C)},hr=d=>{if(d.isPlain||typeof d=="string")return d.message||d;if(d.message&&typeof d.message=="string"){const{message:C,timestamp:T,level:V,...W}=d,de=Object.keys(W).filter(ke=>!isNaN(parseInt(ke)));if(de.length>0&&de.length===Object.keys(W).length){const ke=Object.values(W).join("");return{message:`${C} ${ke}`,data:null}}if(Object.keys(W).length>0)return{message:C,data:W}}return{message:"Log data",data:d}};return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Y,{size:"lg",text:"Loading function details..."})}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[nr(s.status),e.jsx("h1",{className:"ml-2 text-2xl font-bold text-gray-900 dark:text-white",children:s.name}),e.jsx("span",{className:`ml-3 badge ${ir(s.status)}`,children:s.status})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Function details and management"}),s.baseUrl&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:[window.location.origin,s.baseUrl]}),e.jsxs("button",{onClick:lr,className:"btn-secondary btn-xs inline-flex items-center justify-center",title:"Copy URL",children:[e.jsx(cs,{className:"h-4 w-4"}),J?e.jsx("span",{className:"ml-1 text-green-600",children:"Copied!"}):null]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:we,className:"btn-secondary inline-flex items-center justify-center",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Refresh"]}),e.jsxs("button",{onClick:ar,className:"btn-danger inline-flex items-center justify-center",children:[e.jsx(Ct,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:Ge},{id:"routes",label:"Routes",icon:he},{id:"cron",label:"Cron Jobs",icon:dt},{id:"files",label:"Files",icon:mt},{id:"logs",label:"Logs",icon:be},{id:"metrics",label:"Metrics",icon:je},{id:"test",label:"Test",icon:gs},{id:"env",label:"Env",icon:Ot},{id:"update",label:"Update",icon:ae}].map(d=>{const C=d.icon;return e.jsxs("button",{onClick:()=>u(d.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${c===d.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(C,{className:"h-4 w-4 mr-1"}),d.label]},d.id)})})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-6",children:[c==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-6 w-6 text-primary-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Routes"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:((zt=s.routes)==null?void 0:zt.length)||0})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"h-6 w-6 text-success-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Cron Jobs"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Array.isArray(s.cronJobs)?s.cronJobs.length:s.cronJobs||0})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-6 w-6 text-warning-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Invocations"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(i==null?void 0:i.invocations)||0})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{className:"h-6 w-6 text-info-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Last Deployed"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:s.lastDeployed?new Date(s.lastDeployed).toLocaleDateString():"N/A"})]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Function Information"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Name"}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.name})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.status})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Path"}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.path||"N/A"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Handler"}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:s.handler||"handler.js"})]})]})})]})]}),c==="routes"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Function Routes"}),s.routes&&s.routes.length>0&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Routes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.routes.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Available Methods"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.from(new Set(s.routes.map(d=>d.method))).map(d=>e.jsx("span",{className:`badge text-xs ${d==="GET"?"badge-success":d==="POST"?"badge-primary":d==="PUT"?"badge-warning":d==="DELETE"?"badge-danger":d==="PATCH"?"badge-info":d==="OPTIONS"?"badge-secondary":"badge-info"}`,children:d},d))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Base URL"}),e.jsxs("p",{className:"text-sm font-mono text-gray-900 dark:text-white mt-1",children:[window.location.origin,s.baseUrl||""]})]})]})}),s.routes&&s.routes.length>0?e.jsx("div",{className:"space-y-4",children:s.routes.map((d,C)=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:d.path||"/"}),e.jsxs("button",{onClick:()=>{const T=window.location.origin+d.path;navigator.clipboard.writeText(T),F.success("URL copied to clipboard")},className:"btn-secondary btn-xs flex items-center",title:"Copy full URL",children:[e.jsx(cs,{className:"h-3 w-3 mr-1"}),"Copy URL"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono bg-gray-50 dark:bg-gray-800 px-2 py-1 rounded mt-1",children:[window.location.origin,d.path]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"HTTP Method:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx("span",{className:`badge text-xs font-medium ${d.method==="GET"?"badge-success":d.method==="POST"?"badge-primary":d.method==="PUT"?"badge-warning":d.method==="DELETE"?"badge-danger":d.method==="PATCH"?"badge-info":d.method==="OPTIONS"?"badge-secondary":"badge-info"}`,children:d.method})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100 dark:border-gray-600",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Handler: ",e.jsx("span",{className:"font-mono text-gray-900 dark:text-white",children:d.handler||"handler.js"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Route #",C+1]})})]})]})},C))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(he,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No routes configured"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"This function doesn't have any routes configured yet. Add routes to your route.config.json file."}),e.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-800 p-3 rounded font-mono",children:["Example: ","{",'"path": "/", "methods": ["GET", "POST"]',"}"]})]})]}),c==="cron"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Cron Jobs"}),e.jsxs("button",{onClick:Ut,className:"btn-primary btn-sm inline-flex items-center justify-center",children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Add Cron Job"]})]}),B&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:v>=0?"Edit Cron Job":"Add New Cron Job"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Job Name *"}),e.jsx("input",{type:"text",value:D.name,onChange:d=>q({...D,name:d.target.value}),className:"input mt-1",placeholder:"daily-backup"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Schedule (Cron Expression) *"}),e.jsx("input",{type:"text",value:D.schedule,onChange:d=>q({...D,schedule:d.target.value}),className:"input mt-1",placeholder:"0 9 * * *"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: minute hour day month day-of-week"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Handler File *"}),e.jsx("input",{type:"text",value:D.handler,onChange:d=>q({...D,handler:d.target.value}),className:"input mt-1",placeholder:"cron-handler.js"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Timezone"}),e.jsx("input",{type:"text",value:D.timezone,onChange:d=>q({...D,timezone:d.target.value}),className:"input mt-1",placeholder:"UTC"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),e.jsx("textarea",{value:D.description,onChange:d=>q({...D,description:d.target.value}),className:"input mt-1",rows:2,placeholder:"What does this cron job do?"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h5",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Common Cron Examples:"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q({...D,schedule:"0 9 * * *"}),className:"font-mono bg-white dark:bg-gray-800 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:"0 9 * * *"}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Daily at 9 AM"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q({...D,schedule:"0 */6 * * *"}),className:"font-mono bg-white dark:bg-gray-800 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:"0 */6 * * *"}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Every 6 hours"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q({...D,schedule:"0 0 * * 0"}),className:"font-mono bg-white dark:bg-gray-800 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:"0 0 * * 0"}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Weekly on Sunday"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q({...D,schedule:"*/15 * * * *"}),className:"font-mono bg-white dark:bg-gray-800 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:"*/15 * * * *"}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Every 15 minutes"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-4",children:[e.jsxs("button",{onClick:mr,className:"btn-secondary btn-sm",children:[e.jsx(Tt,{className:"h-4 w-4 mr-1"}),"Cancel"]}),e.jsxs("button",{onClick:dr,className:"btn-primary btn-sm",children:[e.jsx(Save,{className:"h-4 w-4 mr-1"}),"Save"]})]})]}),b.length>0?e.jsx("div",{className:"space-y-3",children:b.map((d,C)=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white mr-3",children:d.name}),e.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm",children:d.schedule})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Handler: ",e.jsx("span",{className:"font-mono",children:d.handler}),d.timezone&&e.jsxs("span",{className:"ml-2",children:[" Timezone: ",d.timezone]})]}),d.description&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:d.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0",children:[e.jsx("button",{onClick:()=>or(C),className:"btn-secondary btn-xs",title:"Edit cron job",children:e.jsx(ci,{className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>cr(C),className:"btn-danger btn-xs",title:"Delete cron job",children:e.jsx(Ct,{className:"h-3 w-3"})})]})]})},C))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(dt,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No cron jobs configured"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"This function doesn't have any scheduled cron jobs. Add cron jobs to schedule automated tasks."}),e.jsxs("button",{onClick:Ut,className:"btn-primary btn-sm inline-flex items-center justify-center",children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Add Your First Cron Job"]})]})]}),c==="files"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Function Files"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"File Explorer"})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:w.length>0?_t(w):e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(mt,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No files found"})]})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U?U.name:"File Content"}),U&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:()=>It(U),className:"btn-secondary btn-xs inline-flex items-center justify-center",title:"Download file",children:[e.jsx(St,{className:"h-3 w-3 mr-1"}),"Download"]})})]}),e.jsx("div",{className:"p-4",children:U?at?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(Y,{size:"sm",text:"Loading file..."})}):e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700",children:e.jsx("pre",{className:"text-sm text-gray-900 dark:text-white p-4 overflow-x-auto max-h-96 overflow-y-auto",children:ye})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ee,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No file selected"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Select a file from the explorer to view its content"})]})})]})})]})]}),c==="logs"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white min-w-fit",children:"Function Logs"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 min-w-0 sm:justify-end w-full sm:w-auto",children:[e.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mr-1 whitespace-nowrap",children:"Limit-Debug:"}),e.jsxs("select",{value:a.length,onChange:d=>we(),className:"input text-sm w-auto min-w-[90px]",children:[e.jsx("option",{value:50,children:"Last 50"}),e.jsx("option",{value:100,children:"Last 100"}),e.jsx("option",{value:200,children:"Last 200"})]}),e.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2 mr-1 whitespace-nowrap",children:"Level-Debug:"}),e.jsxs("select",{value:Ue,onChange:d=>er(d.target.value),className:"input text-sm w-auto min-w-[90px]",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"ERROR",children:"ERROR"}),e.jsx("option",{value:"WARN",children:"WARN"}),e.jsx("option",{value:"INFO",children:"INFO"}),e.jsx("option",{value:"ACCESS",children:"ACCESS"}),e.jsx("option",{value:"CRON",children:"CRON"})]}),e.jsxs("button",{onClick:()=>we(),className:"btn-secondary text-sm ml-2 inline-flex items-center justify-center whitespace-nowrap",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),Bt.length>0?e.jsx("div",{className:"space-y-2",children:Bt.map((d,C)=>{const T=hr(d),V=Mt.has(C),W=typeof T=="object"&&T.data&&T.data!==null;return e.jsxs("div",{className:`border rounded-lg overflow-hidden ${d.level==="ERROR"||d.level==="CRON_ERROR"?"border-red-200 bg-red-50 dark:bg-red-900/10":d.level==="WARN"?"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/10":"border-gray-200 bg-gray-50 dark:bg-gray-800 dark:border-gray-700"}`,children:[e.jsx("div",{className:`p-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${W?"cursor-pointer":"cursor-default"}`,onClick:()=>W&&xr(C),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:`mt-1 ${ur(d.level)} px-2 py-1 rounded text-xs font-medium`,children:d.level||"INFO"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400 mb-1",children:e.jsx("span",{className:"font-mono",children:d.timestamp?new Date(d.timestamp).toLocaleString():""})}),e.jsx("div",{className:"text-sm font-mono break-words",children:typeof T=="string"?T:T.message||"No message"})]})]}),W&&e.jsx("div",{className:"ml-2",children:V?e.jsx(wt,{className:"h-4 w-4 text-gray-500"}):e.jsx(kt,{className:"h-4 w-4 text-gray-500"})})]})}),V&&W&&e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Additional Data:"}),e.jsx("pre",{className:"text-xs text-gray-900 dark:text-white overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(T.data,null,2)})]})})]},C)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ee,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No logs found"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No logs available for this function"})]})]}),c==="metrics"&&i&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Function Metrics"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Invocations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.invocations})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.errors})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Avg Response Time"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(qt=i.avgResponseTime)==null?void 0:qt.toFixed(2),"ms"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Last Invocation"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:i.lastInvocation?new Date(i.lastInvocation).toLocaleString():"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Routes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((Ht=i.routes)==null?void 0:Ht.length)||0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Cron Jobs"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.cronJobs})]})]})]}),c==="test"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Test Function"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"HTTP Method"}),e.jsxs("select",{value:g.method,onChange:d=>h({...g,method:d.target.value}),className:"input mt-1",children:[e.jsx("option",{value:"GET",children:"GET"}),e.jsx("option",{value:"POST",children:"POST"}),e.jsx("option",{value:"PUT",children:"PUT"}),e.jsx("option",{value:"DELETE",children:"DELETE"}),e.jsx("option",{value:"PATCH",children:"PATCH"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Path"}),e.jsx("input",{type:"text",value:g.path,onChange:d=>h({...g,path:d.target.value}),className:"input mt-1",placeholder:"/"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Request Body (JSON)"}),e.jsx("textarea",{value:g.data,onChange:d=>h({...g,data:d.target.value}),className:"input mt-1",rows:4,placeholder:'{"key": "value"}'})]}),e.jsx("button",{onClick:sr,disabled:k,className:"btn-primary",children:k?e.jsx(e.Fragment,{children:e.jsx(Y,{size:"sm",type:"dots",text:"Testing..."})}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"h-4 w-4 mr-1"}),"Test Function"]})}),j&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Test Result"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`badge ${j.success?"badge-success":"badge-danger"}`,children:j.success?"Success":"Error"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Status: ",j.statusCode]})]}),e.jsx("pre",{className:"text-sm text-gray-900 dark:text-white overflow-x-auto",children:JSON.stringify(j.response||j.error,null,2)})]})]})]})]}),c==="env"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Environment Variables"}),Qs?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(Y,{size:"sm",text:"Loading environment variables..."})}):nt&&Object.keys(nt).length>0?e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-2 py-1",children:"Key"}),e.jsx("th",{className:"text-left px-2 py-1",children:"Value"})]})}),e.jsx("tbody",{children:Object.entries(nt).map(([d,C])=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-mono px-2 py-1 text-gray-900 dark:text-white",children:d}),e.jsx("td",{className:"font-mono px-2 py-1 text-gray-700 dark:text-gray-300",children:C})]},d))})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No environment variables found for this function."})]}),c==="update"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Update Function"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Function Files"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{htmlFor:"update-file-upload",className:"btn-primary cursor-pointer inline-flex items-center justify-center whitespace-nowrap",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Select Files"]}),e.jsx("input",{id:"update-file-upload",type:"file",multiple:!0,onChange:d=>S(Array.from(d.target.files)),className:"hidden",accept:".js,.json,.txt,.md,.yml,.yaml"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Upload updated function files"})]})})]}),N.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Selected Files (",N.length,")"]}),e.jsx("div",{className:"space-y-2",children:N.map((d,C)=>e.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:d.name}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",(d.size/1024).toFixed(1)," KB)"]})]})},C))})]}),e.jsxs("button",{onClick:rr,disabled:N.length===0,className:"btn-primary inline-flex items-center justify-center whitespace-nowrap",children:[e.jsx(ae,{className:"h-4 w-4 mr-1"}),"Update Function"]})]})]})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pe,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Function not found"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:['The function "',t,'" could not be found.']}),e.jsx("div",{className:"mt-6",children:e.jsx(re,{to:"/functions",className:"btn-primary",children:"Back to Functions"})})]})},wi=()=>{const[t,s]=p.useState("local"),[r,a]=p.useState(""),[n,i]=p.useState([]),[l,o]=p.useState(""),[m,c]=p.useState("main"),[u,g]=p.useState(""),[h,j]=p.useState(!1),[y,k]=p.useState(!1),[f,N]=p.useState(!1),[S,L]=p.useState([]),[J,$]=p.useState([]),[b,A]=p.useState(""),[B,I]=p.useState(""),D=ps(),q=w=>{const M=Array.from(w.target.files);i(M)},v=w=>{i(n.filter((M,U)=>U!==w))},P=async w=>{var M,U;if(w.preventDefault(),!r.trim()){F.error("Function name is required");return}if(t==="local"&&n.length===0){F.error("Please select at least one file");return}if(t==="git"&&!l.trim()){F.error("Git repository URL is required");return}if(t==="github"&&!b){F.error("Please select a GitHub repository");return}if(t==="bitbucket"&&!B){F.error("Please select a Bitbucket repository");return}j(!0);try{if(t==="local")await z.deployFromLocal(r,n),F.success("Function deployed successfully!");else if(t==="git")await z.deployFromGit(r,l,m,u),F.success("Function deployed from Git successfully!");else if(t==="github"){const H=`https://github.com/${b}.git`;await z.deployFromGit(r,H,"main",""),F.success("Function deployed from GitHub successfully!")}else if(t==="bitbucket"){const H=`https://bitbucket.org/${B}.git`;await z.deployFromGit(r,H,"main",""),F.success("Function deployed from Bitbucket successfully!")}D("/functions")}catch(H){console.error("Deployment failed:",H),F.error(((U=(M=H.response)==null?void 0:M.data)==null?void 0:U.message)||"Deployment failed")}finally{j(!1)}};return p.useEffect(()=>{window.location.search.includes("github=success")&&(k(!0),ls.getGithubRepos().then(({data:w})=>{L(w)})),window.location.search.includes("bitbucket=success")&&(N(!0),os.getBitbucketRepos().then(({data:w})=>{$(w)}))},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Deploy Function"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Deploy a new function to FuncDock"})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>s("local"),className:`inline-flex items-center justify-center py-2 px-1 border-b-2 font-medium text-sm ${t==="local"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),e.jsxs("button",{onClick:()=>s("git"),className:`inline-flex items-center justify-center py-2 px-1 border-b-2 font-medium text-sm ${t==="git"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Git Repository"]}),e.jsxs("button",{onClick:()=>s("github"),className:`inline-flex items-center justify-center py-2 px-1 border-b-2 font-medium text-sm ${t==="github"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"GitHub"]}),e.jsxs("button",{onClick:()=>s("bitbucket"),className:`inline-flex items-center justify-center py-2 px-1 border-b-2 font-medium text-sm ${t==="bitbucket"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Bitbucket"]})]})}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"functionName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Function Name"}),e.jsx("input",{type:"text",id:"functionName",value:r,onChange:w=>a(w.target.value),className:"input mt-1",placeholder:"my-function",required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"This will be the URL path for your function (e.g., /my-function)"})]}),t==="local"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Function Files"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{htmlFor:"file-upload",className:"btn-primary cursor-pointer",children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Select Files"]}),e.jsx("input",{id:"file-upload",type:"file",multiple:!0,onChange:q,className:"hidden",accept:".js,.json,.txt,.md,.yml,.yaml"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Upload handler.js, route.config.json, package.json, and other function files"})]})}),n.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Selected Files (",n.length,")"]}),e.jsx("div",{className:"space-y-2",children:n.map((w,M)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ee,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:w.name}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",(w.size/1024).toFixed(1)," KB)"]})]}),e.jsx("button",{type:"button",onClick:()=>v(M),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(Tt,{className:"h-4 w-4"})})]},M))})]})]}),t==="git"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gitRepo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Repository URL"}),e.jsx("input",{type:"url",id:"gitRepo",value:l,onChange:w=>o(w.target.value),className:"input mt-1",placeholder:"https://github.com/username/repo.git",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gitBranch",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Branch"}),e.jsx("input",{type:"text",id:"gitBranch",value:m,onChange:w=>c(w.target.value),className:"input mt-1",placeholder:"main"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gitCommit",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Commit (optional)"}),e.jsx("input",{type:"text",id:"gitCommit",value:u,onChange:w=>g(w.target.value),className:"input mt-1",placeholder:"abc123..."})]})]})]}),t==="github"&&e.jsx("div",{className:"space-y-4",children:y?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select a GitHub Repository"}),e.jsxs("select",{className:"input mt-1",value:b,onChange:w=>A(w.target.value),children:[e.jsx("option",{value:"",children:"-- Select a repository --"}),S.map(w=>e.jsx("option",{value:w.full_name,children:w.full_name},w.id))]})]}):e.jsx("button",{type:"button",className:"btn-primary",onClick:async()=>{try{const{data:w}=await ls.getGithubOAuthUrl();window.location.href=w.url}catch{F.error("Failed to start GitHub OAuth")}},children:"Connect to GitHub"})}),t==="bitbucket"&&e.jsx("div",{className:"space-y-4",children:f?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select a Bitbucket Repository"}),e.jsxs("select",{className:"input mt-1",value:B,onChange:w=>I(w.target.value),children:[e.jsx("option",{value:"",children:"-- Select a repository --"}),J.map(w=>e.jsx("option",{value:w.full_name,children:w.full_name},w.uuid))]})]}):e.jsx("button",{type:"button",className:"btn-primary",onClick:async()=>{try{const{data:w}=await os.getBitbucketOAuthUrl();window.location.href=w.url}catch{F.error("Failed to start Bitbucket OAuth")}},children:"Connect to Bitbucket"})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>D("/functions"),className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h,className:"btn-primary inline-flex items-center justify-center",children:h?e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:"sm",className:"mr-2"}),"Deploying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Deploy Function"]})})]})]})]})},ki=()=>{const[t,s]=p.useState([]),[r,a]=p.useState([]),[n,i]=p.useState(!0),[l,o]=p.useState("all"),[m,c]=p.useState("all"),[u,g]=p.useState(""),[h,j]=p.useState(!1),[y,k]=p.useState(100),[f,N]=p.useState(new Set),{on:S}=Pe();p.useEffect(()=>(L(),J(),S("log:new",v=>{h&&s(P=>[v,...P.slice(0,y-1)])}),()=>{}),[S,h,y]);const L=async()=>{try{const w=((await Ve.getLogs(y)).data.logs||[]).map(M=>{if(typeof M=="object"&&M!==null)return M;try{return JSON.parse(M)}catch{return{message:M,level:"INFO",timestamp:"",function:"",isPlain:!0}}});s(w)}catch(v){console.error("Failed to fetch logs:",v),F.error("Failed to load logs")}finally{i(!1)}},J=async()=>{try{const v=await z.getFunctions();a(v.data.functions||[])}catch(v){console.error("Failed to fetch functions:",v)}},$=()=>{const P=["Timestamp,Level,Function,Message",...b().map(H=>{const ye=H.timestamp||"",ie=H.level||"INFO",at=H.function||"system",Me=(H.message||"").replace(/"/g,'""');return`"${ye}","${ie}","${at}","${Me}"`})].join(`
`),w=new Blob([P],{type:"text/csv"}),M=window.URL.createObjectURL(w),U=document.createElement("a");U.href=M,U.download=`funcdock-logs-${new Date().toISOString().split("T")[0]}.csv`,U.click(),window.URL.revokeObjectURL(M)},b=()=>t.filter(v=>l!=="all"&&v.function!==l?!1:m==="CRON"?v.level==="CRON"||v.level==="CRON_ERROR":!(m!=="all"&&v.level!==m||u&&!(v.message||"").toLowerCase().includes(u.toLowerCase()))),A=v=>{switch(v){case"ERROR":return e.jsx(Le,{className:"h-4 w-4 text-red-500"});case"WARN":return e.jsx(pe,{className:"h-4 w-4 text-yellow-500"});case"INFO":return e.jsx(ms,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(oe,{className:"h-4 w-4 text-gray-500"})}},B=v=>{switch(v){case"ERROR":case"CRON_ERROR":return"text-red-600 bg-red-50 dark:bg-red-900/20";case"WARN":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"INFO":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}},I=v=>{const P=new Set(f);P.has(v)?P.delete(v):P.add(v),N(P)},D=v=>{if(v.isPlain||typeof v=="string")return v.message||v;if(v.message&&typeof v.message=="string"){const{message:P,timestamp:w,level:M,function:U,...H}=v,ye=Object.keys(H).filter(ie=>!isNaN(parseInt(ie)));if(ye.length>0&&ye.length===Object.keys(H).length){const ie=Object.values(H).join("");return{message:`${P} ${ie}`,data:null}}if(Object.keys(H).length>0)return{message:P,data:H}}return{message:"Log data",data:v}},q=b();return n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Y,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Logs"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"System and function logs"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:L,className:"btn-secondary inline-flex items-center justify-center",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Refresh"]}),e.jsxs("button",{onClick:$,className:"btn-secondary inline-flex items-center justify-center",children:[e.jsx(St,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Function"}),e.jsxs("select",{value:l,onChange:v=>o(v.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"All Functions"}),r.map(v=>e.jsx("option",{value:v.name,children:v.name},v.name))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Log Level"}),e.jsxs("select",{value:m,onChange:v=>c(v.target.value),className:"input",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"ERROR",children:"Error"}),e.jsx("option",{value:"WARN",children:"Warning"}),e.jsx("option",{value:"INFO",children:"Info"}),e.jsx("option",{value:"CRON",children:"CRON"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:u,onChange:v=>g(v.target.value),className:"input pl-10",placeholder:"Search logs..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limit"}),e.jsxs("select",{value:y,onChange:v=>k(parseInt(v.target.value)),className:"input",children:[e.jsx("option",{value:50,children:"50 logs"}),e.jsx("option",{value:100,children:"100 logs"}),e.jsx("option",{value:200,children:"200 logs"}),e.jsx("option",{value:500,children:"500 logs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Live Mode"}),e.jsx("button",{onClick:()=>j(!h),className:`w-full px-3 py-2 rounded-md border text-sm font-medium transition-colors ${h?"bg-green-100 text-green-800 border-green-300 dark:bg-green-900/20 dark:text-green-400 dark:border-green-700":"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(oi,{className:"h-4 w-4 inline mr-1"}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(di,{className:"h-4 w-4 inline mr-1"}),"Live"]})})]})]})})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Logs (",q.length,")"]}),h&&e.jsxs("div",{className:"flex items-center text-sm text-green-600 dark:text-green-400",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Live"]})]}),q.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(be,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No logs found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsx("div",{className:"space-y-2",children:q.map((v,P)=>{const w=D(v),M=f.has(P),U=typeof w=="object"&&w.data&&w.data!==null;return e.jsxs("div",{className:`border rounded-lg overflow-hidden ${v.level==="ERROR"||v.level==="CRON_ERROR"?"border-red-200 bg-red-50 dark:bg-red-900/10":v.level==="WARN"?"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/10":"border-gray-200 bg-gray-50 dark:bg-gray-800 dark:border-gray-700"}`,children:[e.jsx("div",{className:`p-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${U?"cursor-pointer":"cursor-default"}`,onClick:()=>U&&I(P),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[A(v.level),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"font-mono text-xs",children:new Date(v.timestamp||Date.now()).toLocaleString()}),v.function&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"font-medium",children:v.function})]}),v.level&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"font-medium",children:v.level})]})]}),e.jsx("div",{className:"mt-1 text-sm font-mono break-words",children:typeof w=="string"?w:w.message||"No message"})]})]}),U&&e.jsx("div",{className:"ml-2",children:M?e.jsx(wt,{className:"h-4 w-4 text-gray-500"}):e.jsx(kt,{className:"h-4 w-4 text-gray-500"})})]})}),M&&U&&e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Additional Data:"}),e.jsx("pre",{className:"text-xs text-gray-900 dark:text-white overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(w.data,null,2)})]})})]},P)})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Logs"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.length})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-6 w-6 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Errors"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.filter(v=>v.level==="ERROR").length})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-6 w-6 text-yellow-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Warnings"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.filter(v=>v.level==="WARN").length})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ms,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Info"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.filter(v=>v.level==="INFO").length})]})]})})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"p-4 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-2 py-1",children:"Timestamp"}),e.jsx("th",{className:"text-left px-2 py-1",children:"Level"}),e.jsx("th",{className:"text-left px-2 py-1",children:"Function"}),e.jsx("th",{className:"text-left px-2 py-1",children:"Message"})]})}),e.jsx("tbody",{children:q.map((v,P)=>{const w=D(v),M=typeof w=="object"&&w.data&&w.data!==null,U=typeof w=="string"?w:w.message||"No message";return e.jsxs("tr",{className:B(v.level),children:[e.jsx("td",{className:"font-mono px-2 py-1",children:v.timestamp||""}),e.jsx("td",{className:"font-mono px-2 py-1",children:v.level||""}),e.jsx("td",{className:"font-mono px-2 py-1",children:v.function||""}),e.jsx("td",{className:"font-mono px-2 py-1",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"truncate max-w-xs",children:U}),M&&e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/20 px-1 py-0.5 rounded",children:"+data"})]})})]},P)})})]})})})]})},Si=()=>{var $;const{user:t,logout:s}=De(),[r,a]=p.useState(!0),[n,i]=p.useState(!1),[l,o]=p.useState(null),[m,c]=p.useState("general"),[u,g]=p.useState(!1),[h,j]=p.useState({general:{platformName:"FuncDock",maxFunctions:100,maxFileSize:10,enableHotReload:!0,enableCors:!0},security:{enableRateLimit:!0,rateLimitWindow:15,rateLimitMax:100,enableJwtAuth:!0,jwtExpiry:24,requireHttps:!1},logging:{logLevel:"INFO",maxLogSize:100,enableFileLogging:!0,enableConsoleLogging:!0,logRetention:30},performance:{enableCompression:!0,enableCaching:!0,cacheTtl:300,maxConcurrentRequests:50,requestTimeout:30}});p.useEffect(()=>{y(),k()},[]);const y=async()=>{try{const b=await Ve.getMetrics();o(b.data)}catch(b){console.error("Failed to fetch system metrics:",b)}finally{a(!1)}},k=()=>{const b=localStorage.getItem("funcdock-settings");b&&j(JSON.parse(b))},f=async()=>{i(!0);try{localStorage.setItem("funcdock-settings",JSON.stringify(h)),F.success("Settings saved successfully")}catch(b){console.error("Failed to save settings:",b),F.error("Failed to save settings")}finally{i(!1)}},N=(b,A,B)=>{j(I=>({...I,[b]:{...I[b],[A]:B}}))},S=()=>{s()},L=b=>{if(b===0)return"0 Bytes";const A=1024,B=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(b)/Math.log(A));return parseFloat((b/Math.pow(A,I)).toFixed(2))+" "+B[I]},J=b=>{const A=Math.floor(b/86400),B=Math.floor(b%86400/3600),I=Math.floor(b%3600/60);return A>0?`${A}d ${B}h ${I}m`:B>0?`${B}h ${I}m`:`${I}m`};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Y,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"System configuration and preferences"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:y,className:"btn-secondary inline-flex items-center justify-center",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Refresh"]}),e.jsx("button",{onClick:f,disabled:n,className:"btn-primary inline-flex items-center justify-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:"sm"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mi,{className:"h-4 w-4 mr-1"}),"Save Settings"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"p-4",children:e.jsx("nav",{className:"space-y-1",children:[{id:"general",label:"General",icon:Ot},{id:"security",label:"Security",icon:xi},{id:"logging",label:"Logging",icon:ds},{id:"performance",label:"Performance",icon:je},{id:"system",label:"System Info",icon:hs}].map(b=>{const A=b.icon;return e.jsxs("button",{onClick:()=>c(b.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${m===b.id?"bg-primary-100 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800"}`,children:[e.jsx(A,{className:"h-4 w-4 mr-3"}),b.label]},b.id)})})})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-6",children:[m==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"General Settings"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Platform Name"}),e.jsx("input",{type:"text",value:h.general.platformName,onChange:b=>N("general","platformName",b.target.value),className:"input mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Max Functions"}),e.jsx("input",{type:"number",value:h.general.maxFunctions,onChange:b=>N("general","maxFunctions",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"1000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Max File Size (MB)"}),e.jsx("input",{type:"number",value:h.general.maxFileSize,onChange:b=>N("general","maxFileSize",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"100"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"hotReload",checked:h.general.enableHotReload,onChange:b=>N("general","enableHotReload",b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"hotReload",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Enable Hot Reload"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"cors",checked:h.general.enableCors,onChange:b=>N("general","enableCors",b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"cors",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Enable CORS"})]})]})]}),m==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Security Settings"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"rateLimit",checked:h.security.enableRateLimit,onChange:b=>N("security","enableRateLimit",b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"rateLimit",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Enable Rate Limiting"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Rate Limit Window (minutes)"}),e.jsx("input",{type:"number",value:h.security.rateLimitWindow,onChange:b=>N("security","rateLimitWindow",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"60",disabled:!h.security.enableRateLimit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Rate Limit Max Requests"}),e.jsx("input",{type:"number",value:h.security.rateLimitMax,onChange:b=>N("security","rateLimitMax",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"1000",disabled:!h.security.enableRateLimit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"JWT Expiry (hours)"}),e.jsx("input",{type:"number",value:h.security.jwtExpiry,onChange:b=>N("security","jwtExpiry",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"168"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"https",checked:h.security.requireHttps,onChange:b=>N("security","requireHttps",b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"https",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Require HTTPS"})]})]})]}),m==="logging"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Logging Settings"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Log Level"}),e.jsxs("select",{value:h.logging.logLevel,onChange:b=>N("logging","logLevel",b.target.value),className:"input mt-1",children:[e.jsx("option",{value:"DEBUG",children:"Debug"}),e.jsx("option",{value:"INFO",children:"Info"}),e.jsx("option",{value:"WARN",children:"Warning"}),e.jsx("option",{value:"ERROR",children:"Error"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Max Log Size (MB)"}),e.jsx("input",{type:"number",value:h.logging.maxLogSize,onChange:b=>N("logging","maxLogSize",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"1000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Log Retention (days)"}),e.jsx("input",{type:"number",value:h.logging.logRetention,onChange:b=>N("logging","logRetention",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"365"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"fileLogging",checked:h.logging.enableFileLogging,onChange:b=>N("logging","enableFileLogging",b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"fileLogging",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Enable File Logging"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"consoleLogging",checked:h.logging.enableConsoleLogging,onChange:b=>N("logging","enableConsoleLogging",b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"consoleLogging",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Enable Console Logging"})]})]})]}),m==="performance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Performance Settings"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"compression",checked:h.performance.enableCompression,onChange:b=>N("performance","enableCompression",b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"compression",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Enable Compression"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"caching",checked:h.performance.enableCaching,onChange:b=>N("performance","enableCaching",b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"caching",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Enable Caching"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cache TTL (seconds)"}),e.jsx("input",{type:"number",value:h.performance.cacheTtl,onChange:b=>N("performance","cacheTtl",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"3600",disabled:!h.performance.enableCaching})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Max Concurrent Requests"}),e.jsx("input",{type:"number",value:h.performance.maxConcurrentRequests,onChange:b=>N("performance","maxConcurrentRequests",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Request Timeout (seconds)"}),e.jsx("input",{type:"number",value:h.performance.requestTimeout,onChange:b=>N("performance","requestTimeout",parseInt(b.target.value)),className:"input mt-1",min:"1",max:"300"})]})]})]}),m==="system"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"System Information"}),l&&e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(hs,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Uptime"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:J(l.uptime)})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Functions"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.functions})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Routes"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.activeRoutes})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{className:"h-6 w-6 text-orange-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Cron Jobs"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.activeCronJobs})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ai,{className:"h-6 w-6 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Memory Usage"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:L((($=l.memory)==null?void 0:$.heapUsed)||0)})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(si,{className:"h-6 w-6 text-indigo-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Platform"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"FuncDock"})]})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"User Information"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Username"}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:(t==null?void 0:t.username)||"admin"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Role"}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:"Administrator"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:S,className:"btn-danger text-sm",children:"Logout"})})]})]})]})]})})})]})]})};function Ci(){const{isAuthenticated:t,loading:s}=De();return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Y,{size:"xl",text:"Initializing FuncDock..."})}):t?e.jsx(fi,{children:e.jsxs(Jt,{children:[e.jsx(ee,{path:"/",element:e.jsx(it,{to:"/dashboard",replace:!0})}),e.jsx(ee,{path:"/dashboard",element:e.jsx(ji,{})}),e.jsx(ee,{path:"/functions",element:e.jsx(Ni,{})}),e.jsx(ee,{path:"/functions/:name",element:e.jsx(vi,{})}),e.jsx(ee,{path:"/deploy",element:e.jsx(wi,{})}),e.jsx(ee,{path:"/logs",element:e.jsx(ki,{})}),e.jsx(ee,{path:"/settings",element:e.jsx(Si,{})}),e.jsx(ee,{path:"*",element:e.jsx(it,{to:"/dashboard",replace:!0})})]})}):e.jsxs(Jt,{children:[e.jsx(ee,{path:"/login",element:e.jsx(bi,{})}),e.jsx(ee,{path:"*",element:e.jsx(it,{to:"/login",replace:!0})})]})}ht.createRoot(document.getElementById("root")).render(e.jsx(pr.StrictMode,{children:e.jsx(br,{children:e.jsx(Kn,{children:e.jsx(Wn,{children:e.jsxs(Xn,{children:[e.jsx(Ci,{}),e.jsx(pa,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)"}}})]})})})})}));
